# 马赛克转场效果使用说明

## 一、效果概述

这是一个模拟马赛克效果的转场，支持自定义马赛克形状、大小、方向和边缘发光效果。还支持基于时间的动画效果。适用于场景切换、技能释放等需要马赛克效果的场景。

## 二、使用方法

### 1. 基础设置
1. 在 Cocos Creator 中创建新材质
2. 选择 `mosaic_transition` 效果
3. 将材质应用到目标精灵上

### 2. 参数说明

#### 基础参数
- `progress`：转场进度
  - 范围：0.0 - 1.0
  - 默认值：0.0
  - 说明：控制转场进度，0表示开始，1表示完成

- `tileSize`：马赛克大小
  - 范围：1.0 - 50.0
  - 默认值：10.0
  - 说明：控制马赛克的大小

- `direction`：转场方向
  - 范围：0.0 - 360.0
  - 默认值：0.0
  - 说明：控制马赛克转场的方向，0表示从左到右，90表示从下到上

- `edgeWidth`：边缘宽度
  - 范围：0.0 - 0.5
  - 默认值：0.1
  - 说明：控制发光边缘的宽度

- `edgeColor`：边缘颜色
  - 类型：颜色
  - 默认值：[1.0, 1.0, 1.0, 1.0]
  - 说明：控制边缘发光的颜色和透明度

#### 高级参数
- `useAnimation`：启用动画
  - 范围：0.0 - 1.0
  - 默认值：0.0
  - 说明：控制是否启用时间动画，0表示关闭，1表示启用

- `animationSpeed`：动画速度
  - 范围：0.0 - 5.0
  - 默认值：1.0
  - 说明：控制动画的速度

- `shapeType`：马赛克形状
  - 范围：0 - 3
  - 默认值：0
  - 说明：选择马赛克形状，0为矩形，1为圆形，2为菱形，3为六边形

## 三、效果预设

### 1. 基础矩形马赛克
```json
{
  "progress": 0.5,
  "tileSize": 10.0,
  "direction": 0.0,
  "edgeWidth": 0.1,
  "edgeColor": [1.0, 1.0, 1.0, 1.0],
  "useAnimation": 0.0,
  "animationSpeed": 1.0,
  "shapeType": 0
}
```

### 2. 圆形马赛克
```json
{
  "progress": 0.5,
  "tileSize": 8.0,
  "direction": 0.0,
  "edgeWidth": 0.15,
  "edgeColor": [0.8, 0.8, 1.0, 1.0],
  "useAnimation": 0.0,
  "animationSpeed": 1.0,
  "shapeType": 1
}
```

### 3. 动画菱形马赛克
```json
{
  "progress": 0.0,
  "tileSize": 12.0,
  "direction": 45.0,
  "edgeWidth": 0.2,
  "edgeColor": [1.0, 0.8, 0.0, 1.0],
  "useAnimation": 1.0,
  "animationSpeed": 2.0,
  "shapeType": 2
}
```

### 4. 动画六边形马赛克
```json
{
  "progress": 0.0,
  "tileSize": 15.0,
  "direction": 90.0,
  "edgeWidth": 0.25,
  "edgeColor": [0.0, 1.0, 0.8, 1.0],
  "useAnimation": 1.0,
  "animationSpeed": 1.5,
  "shapeType": 3
}
```

## 四、使用场景

### 1. 场景切换
- 使用矩形或圆形马赛克效果
- 调整方向创造不同的过渡感
- 可以添加边缘发光增加视觉效果

### 2. 技能释放
- 使用菱形马赛克效果
- 调整边缘颜色匹配技能效果
- 启用动画创造动态效果

### 3. 特殊效果
- 使用六边形马赛克效果
- 调整马赛克大小创造独特效果
- 结合动画和方向控制增强表现力

## 五、注意事项

### 1. 性能优化
- 避免使用过大的马赛克大小
- 控制动画速度在合理范围内
- 适当调整效果参数

### 2. 常见问题
- 如果效果不明显，检查马赛克大小和形状
- 如果边缘太锐利，增加边缘宽度
- 如果性能下降，关闭动画或降低马赛克大小

### 3. 最佳实践
- 根据场景需求选择合适的马赛克形状
- 根据目标设备性能调整动画速度
- 微调参数获得最佳效果
- 可以结合其他效果增强表现力 