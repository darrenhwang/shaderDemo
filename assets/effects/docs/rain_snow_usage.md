# 雨雪效果使用说明

## 一、效果概述

这是一个用于创建雨雪天气效果的着色器，支持雨滴和雪花的独立控制，包括速度、大小、密度和风向等参数。效果可以应用于任何带有纹理的精灵（Sprite）上。

## 二、使用方法

### 1. 基础设置
1. 在 Cocos Creator 中创建新材质
2. 选择 `rain_snow` 效果
3. 将材质应用到目标精灵上

### 2. 纹理设置
- `mainTexture`：精灵的主纹理
- `rainTexture`：雨滴纹理（建议使用白色雨滴形状的纹理）
- `snowTexture`：雪花纹理（建议使用白色雪花形状的纹理）

### 3. 参数说明

#### 雨滴参数
- `rainSpeed`：雨滴下落速度
  - 范围：0.0 - 5.0
  - 默认值：1.0
  - 建议值：
    - 小雨：0.5 - 1.0
    - 中雨：1.0 - 2.0
    - 大雨：2.0 - 3.0
    - 暴雨：3.0 - 5.0

- `rainScale`：雨滴大小
  - 范围：0.1 - 10.0
  - 默认值：1.0
  - 建议值：
    - 小雨：0.5 - 1.0
    - 中雨：1.0 - 2.0
    - 大雨：2.0 - 3.0

- `rainIntensity`：雨滴密度
  - 范围：0.0 - 1.0
  - 默认值：0.5
  - 建议值：
    - 稀疏：0.2 - 0.4
    - 中等：0.4 - 0.6
    - 密集：0.6 - 0.8
    - 极密：0.8 - 1.0

#### 雪花参数
- `snowSpeed`：雪花下落速度
  - 范围：0.0 - 3.0
  - 默认值：0.5
  - 建议值：
    - 小雪：0.2 - 0.5
    - 中雪：0.5 - 1.0
    - 大雪：1.0 - 2.0
    - 暴雪：2.0 - 3.0

- `snowScale`：雪花大小
  - 范围：0.1 - 10.0
  - 默认值：1.0
  - 建议值：
    - 小雪：0.5 - 1.0
    - 中雪：1.0 - 2.0
    - 大雪：2.0 - 3.0

- `snowIntensity`：雪花密度
  - 范围：0.0 - 1.0
  - 默认值：0.5
  - 建议值：
    - 稀疏：0.2 - 0.4
    - 中等：0.4 - 0.6
    - 密集：0.6 - 0.8
    - 极密：0.8 - 1.0

#### 风力参数
- `windStrength`：风力强度
  - 范围：-1.0 - 1.0
  - 默认值：0.0
  - 建议值：
    - 无风：0.0
    - 微风：0.2 - 0.4
    - 大风：0.4 - 0.7
    - 强风：0.7 - 1.0

- `windDirection`：风向角度
  - 范围：0 - 360
  - 默认值：0
  - 说明：
    - 0度：向右
    - 90度：向下
    - 180度：向左
    - 270度：向上

## 三、效果预设

### 1. 小雨效果
```json
{
  "rainSpeed": 0.8,
  "rainScale": 0.8,
  "rainIntensity": 0.3,
  "snowSpeed": 0.0,
  "snowIntensity": 0.0,
  "windStrength": 0.1
}
```

### 2. 大雨效果
```json
{
  "rainSpeed": 2.5,
  "rainScale": 1.5,
  "rainIntensity": 0.7,
  "snowSpeed": 0.0,
  "snowIntensity": 0.0,
  "windStrength": 0.3
}
```

### 3. 小雪效果
```json
{
  "rainSpeed": 0.0,
  "rainIntensity": 0.0,
  "snowSpeed": 0.3,
  "snowScale": 1.2,
  "snowIntensity": 0.4,
  "windStrength": 0.2
}
```

### 4. 暴风雪效果
```json
{
  "rainSpeed": 0.0,
  "rainIntensity": 0.0,
  "snowSpeed": 1.5,
  "snowScale": 1.8,
  "snowIntensity": 0.8,
  "windStrength": 0.7,
  "windDirection": 45
}
```

## 四、注意事项

### 1. 性能优化
- 建议使用较小的纹理尺寸
- 避免同时使用高强度的雨雪效果
- 适当调整 `rainScale` 和 `snowScale` 以平衡效果和性能

### 2. 常见问题
- 如果效果不明显，检查纹理是否正确设置
- 如果性能下降，降低 `rainIntensity` 和 `snowIntensity`
- 如果出现闪烁，调整 `rainSpeed` 和 `snowSpeed`

### 3. 最佳实践
- 使用合适的纹理分辨率
- 根据场景需求调整参数
- 可以创建多个材质实例用于不同场景
- 建议在编辑器中预览效果后再应用到游戏场景

## 五、示例场景

### 1. 室内场景
- 降低雨雪强度
- 减小风力影响
- 调整透明度

### 2. 室外场景
- 增加雨雪强度
- 添加风力效果
- 保持较高透明度

### 3. 特殊效果
- 使用强风创造倾斜效果
- 调整密度创造层次感
- 结合其他效果（如雾效）增强氛围 